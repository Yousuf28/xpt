[{"name":"app.R","content":"library(shiny)\r\nlibrary(DT)\r\nlibrary(haven)\r\n\r\n# Define UI for data upload app ----\r\nui <- fluidPage(\r\n\r\n  # App title ----\r\n  titlePanel(\"Uploading Files\"),\r\n\r\n  # Sidebar layout with input and output definitions ----\r\n  sidebarLayout(\r\n\r\n    # Sidebar panel for inputs ----\r\n    sidebarPanel(\r\n\r\n      # Input: Select a file ----\r\n      ## fileInput(\"file1\", \"Choose CSV File\",\r\n      ##           multiple = FALSE,\r\n      ##           accept = c(\".xpt\",\"text/csv\",\r\n      ##                    \"text/comma-separated-values,text/plain\",\r\n      ##                    \".csv\")),\r\nshiny::fileInput('file1',label = 'Choose xpt file',\r\n                 multiple = FALSE,\r\n                 accept = \".xpt\")\r\n      # Horizontal line ----\r\n      ## tags$hr(),\r\n\r\n      ## # Input: Checkbox if file has header ----\r\n      ## checkboxInput(\"header\", \"Header\", TRUE),\r\n\r\n      ## # Input: Select separator ----\r\n      ## radioButtons(\"sep\", \"Separator\",\r\n      ##              choices = c(Comma = \",\",\r\n      ##                          Semicolon = \";\",\r\n      ##                          Tab = \"\\t\"),\r\n      ##              selected = \",\"),\r\n\r\n      ## # Input: Select quotes ----\r\n      ## radioButtons(\"quote\", \"Quote\",\r\n      ##              choices = c(None = \"\",\r\n      ##                          \"Double Quote\" = '\\\\\"',\r\n      ##                          \"Single Quote\" = \"'\"),\r\n      ##              selected = '\\\\\"'),\r\n\r\n      ## # Horizontal line ----\r\n      ## tags$hr(),\r\n\r\n      ## # Input: Select number of rows to display ----\r\n      ## radioButtons(\"disp\", \"Display\",\r\n      ##              choices = c(Head = \"head\",\r\n      ##                          All = \"all\"),\r\n      ##              selected = \"head\")\r\n\r\n    ),\r\n\r\n    # Main panel for displaying outputs ----\r\n    mainPanel(\r\n\r\n      # Output: Data file ----\r\n      DT::DTOutput('contents')\r\n      ## tableOutput(\"contents\")\r\n\r\n    )\r\n\r\n  )\r\n)\r\n\r\n# Define server logic to read selected file ----\r\nserver <- function(input, output) {\r\n\r\n  output$contents <- DT::renderDT({\r\n  ## output$contents <- renderTable({\r\n\r\n    # input$file1 will be NULL initially. After the user selects\r\n    # and uploads a file, head of that data file by default,\r\n    # or all rows if selected, will be shown.\r\n\r\n    req(input$file1)\r\n\r\n    # when reading semicolon separated files,\r\n    # having a comma separator causes `read.csv` to error\r\n        df <- haven::read_xpt(input$file1$datapath)\r\n        df\r\n\r\n\r\n\r\n  })\r\n\r\n}\r\n\r\n# Create Shiny app ----\r\nshinyApp(ui, server)\r\n","type":"text"}]
